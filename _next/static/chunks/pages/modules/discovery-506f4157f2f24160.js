(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3112],{8701:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/modules/discovery",function(){return s(8958)}])},8958:function(e,n,s){"use strict";s.r(n),s.d(n,{__toc:function(){return o}});var r=s(2676),i=s(57),t=s(8949);let o=[{depth:2,value:"Purpose and Functionality",id:"purpose-and-functionality"},{depth:2,value:"Technical Implementation",id:"technical-implementation"},{depth:3,value:"Example Flow: Searching for a Resource",id:"example-flow-searching-for-a-resource"}];function c(e){let n=Object.assign({h1:"h1",p:"p",strong:"strong",h2:"h2",code:"code",ul:"ul",li:"li",h3:"h3",ol:"ol"},(0,t.a)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:"Module: P2P Discovery"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The Discovery module provides the functionality for peer-to-peer content search and discovery within the Webizen ecosystem. It allows users to find resources, files, and other users directly on the decentralized web."})}),"\n",(0,r.jsx)(n.p,{children:"This module is essential for creating a self-contained ecosystem where content can be found without relying on traditional, centralized search engines."}),"\n",(0,r.jsx)(n.h2,{id:"purpose-and-functionality",children:"Purpose and Functionality"}),"\n",(0,r.jsxs)(n.p,{children:["The primary goal of the ",(0,r.jsx)(n.code,{children:"discovery"})," module is to provide a unified search interface over the various P2P protocols used by Webizen."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Core Functions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-Protocol Search:"})," It can query multiple decentralized networks simultaneously:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"WebTorrent:"})," It searches the WebTorrent network's Distributed Hash Table (DHT) for magnet links matching a search query."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"IPFS:"})," It leverages the IPFS DHT and other discovery mechanisms to find content by its CID or metadata."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Content Indexing (Local):"})," The module works with the ",(0,r.jsx)(n.code,{children:"library"})," module to build and search a local index of all the content the user has previously accessed or saved, enabling fast, private searching over their own data."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Federated Search:"})," The architecture allows for sending search queries to trusted peers or community-run indexer nodes, enabling a federated search model that preserves privacy while expanding search reach."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"technical-implementation",children:"Technical Implementation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Module Path"}),": ",(0,r.jsx)(n.code,{children:"src/modules/discovery/index.js"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UI Component"}),": The search bar and results view are rendered by ",(0,r.jsx)(n.code,{children:"src/components/Discovery.js"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Core Libraries"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"webtorrent"}),": For interacting with the WebTorrent DHT."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ipfs-http-client"}),": For querying the IPFS network."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dependencies"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"modules/library"}),": To search over the user's local content index."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"services/webtorrent.js"}),": The service that manages the WebTorrent client instance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"services/ipfs.js"}),": The service that manages the IPFS node instance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"services/webizen-api"}),": Specifically the ",(0,r.jsx)(n.code,{children:"/discovery/search"})," endpoint, which this module powers."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-flow-searching-for-a-resource",children:"Example Flow: Searching for a Resource"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:['A user types a search query, "humanitarian aid distribution models," into the ',(0,r.jsx)(n.code,{children:"Discovery.js"})," component."]}),"\n",(0,r.jsxs)(n.li,{children:["The UI dispatches an event: ",(0,r.jsx)(n.code,{children:"eventBus.emit('discovery:search_request', { query: 'humanitarian aid distribution models' })"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"discovery"})," module's ",(0,r.jsx)(n.code,{children:"handleEvent"})," function receives the request."]}),"\n",(0,r.jsxs)(n.li,{children:["It initiates three search operations in parallel:\na.  It sends the query to the ",(0,r.jsx)(n.code,{children:"library"})," module to search the user's local index.\nb.  It uses the ",(0,r.jsx)(n.code,{children:"webtorrent"})," service to perform a DHT lookup for torrents related to the query.\nc.  It uses the ",(0,r.jsx)(n.code,{children:"ipfs"})," service to query for CIDs or IPNS records that might match the query (this is a more complex operation and may rely on community indexers)."]}),"\n",(0,r.jsxs)(n.li,{children:["As results come in from each source, the ",(0,r.jsx)(n.code,{children:"discovery"})," module emits ",(0,r.jsx)(n.code,{children:"discovery:search_result"})," events containing the found resources (e.g., a local PDF, a WebTorrent magnet link, an IPFS CID)."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"Discovery.js"})," component listens for these result events and dynamically populates the search results view, indicating the source of each result."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This multi-pronged approach ensures that users can find content both within their own trusted data stores and across the broader P2P network."})]})}n.default=(0,i.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.a)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)},pageOpts:{filePath:"pages/modules/discovery.mdx",route:"/modules/discovery",timestamp:1752449798e3,title:"Module: P2P Discovery",headings:o},pageNextRoute:"/modules/discovery"})}},function(e){e.O(0,[57,2888,9774,179],function(){return e(e.s=8701)}),_N_E=e.O()}]);