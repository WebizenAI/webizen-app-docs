(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8338],{1080:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/core-concepts/modules",function(){return n(6130)}])},6130:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return r}});var l=n(2676),i=n(57),o=n(8949);let r=[{depth:2,value:"Philosophy",id:"philosophy"},{depth:2,value:"The Module Lifecycle",id:"the-module-lifecycle"},{depth:2,value:"The Standard Module Interface",id:"the-standard-module-interface"},{depth:3,value:"Example Module Skeleton",id:"example-module-skeleton"}];function t(e){let s=Object.assign({h1:"h1",p:"p",strong:"strong",h2:"h2",ul:"ul",li:"li",code:"code",ol:"ol",h3:"h3",pre:"pre",span:"span"},(0,o.a)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.h1,{children:"The Webizen Modular System"}),"\n",(0,l.jsxs)(s.p,{children:["Webizen's functionality is not built as a single, monolithic application. Instead, it is a composite of independent, interoperable ",(0,l.jsx)(s.strong,{children:"modules"}),". This modular architecture is a core design principle that makes the platform flexible, extensible, and resilient."]}),"\n",(0,l.jsx)(s.h2,{id:"philosophy",children:"Philosophy"}),"\n",(0,l.jsx)(s.p,{children:"The modular approach is central to Webizen's goal of creating a decentralized and user-driven ecosystem."}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Extensibility:"})," New features and capabilities can be added to the platform simply by creating a new module. This lowers the barrier for community contributions and allows for rapid innovation."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"User Choice:"})," Users can choose which modules to enable, tailoring the platform to their specific needs and preferences. If a user disagrees with the functionality of a core module, they can disable it or even replace it with an alternative."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Isolation & Security:"})," Modules are self-contained units. While they can communicate with each other via a structured event bus, they do not have direct access to the internal state of other modules. This isolation enhances the security and stability of the overall platform."]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"the-module-lifecycle",children:"The Module Lifecycle"}),"\n",(0,l.jsxs)(s.p,{children:["The entire lifecycle of modules within the Webizen Desktop Application is managed by the ",(0,l.jsx)(s.strong,{children:"Module Manager"})," (",(0,l.jsx)(s.code,{children:"services/moduleManager.js"}),")."]}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Discovery:"})," On startup, the Module Manager scans the ",(0,l.jsx)(s.code,{children:"src/modules/"})," directory to discover all available modules."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Configuration Loading:"})," It reads the ",(0,l.jsx)(s.code,{children:"config/webizen-config-v0.26.json"})," file to determine which modules should be activated for the user."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Dynamic Loading:"})," The Module Manager dynamically loads the code for each activated module."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Initialization:"})," It calls the ",(0,l.jsx)(s.code,{children:"init()"})," function on each module, passing in any necessary services (like access to the database or the event bus) through dependency injection. This is where a module sets up its initial state and registers its event listeners."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Event Handling:"})," Once initialized, modules operate primarily by reacting to events broadcast on the central ",(0,l.jsx)(s.strong,{children:"Event Bus"})," (",(0,l.jsx)(s.code,{children:"services/eventBus.js"}),"). They can also dispatch their own events to be handled by other modules."]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"the-standard-module-interface",children:"The Standard Module Interface"}),"\n",(0,l.jsxs)(s.p,{children:["To ensure interoperability, every Webizen module is expected to adhere to a standard interface. While not a strict requirement for all files, the main ",(0,l.jsx)(s.code,{children:"index.js"})," of a module typically exposes the following functions:"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:(0,l.jsx)(s.code,{children:"init(services)"})}),": This function is called once when the module is first loaded. It receives a ",(0,l.jsx)(s.code,{children:"services"})," object containing references to core platform services (e.g., ",(0,l.jsx)(s.code,{children:"quadstore"}),", ",(0,l.jsx)(s.code,{children:"ipfs"}),", ",(0,l.jsx)(s.code,{children:"eventBus"}),"). The module should use this function to perform any necessary setup, such as initializing its internal state or registering listeners on the event bus."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:(0,l.jsx)(s.code,{children:"handleEvent(event)"})}),": This function is the module's primary entry point for reacting to system-wide events. The event bus will call this function with an ",(0,l.jsx)(s.code,{children:"event"})," object (",(0,l.jsx)(s.code,{children:"{ type: 'string', payload: 'any' }"}),") when a relevant event occurs."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:(0,l.jsx)(s.code,{children:"getData(query)"})}),": Provides a standardized way for other parts of the system to request data from the module. The format of the ",(0,l.jsx)(s.code,{children:"query"})," and the returned data is specific to each module's domain."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"example-module-skeleton",children:"Example Module Skeleton"}),"\n",(0,l.jsxs)(s.p,{children:["Here is a simplified skeleton of a module's ",(0,l.jsx)(s.code,{children:"index.js"})," file:"]}),"\n",(0,l.jsx)(s.pre,{"data-language":"javascript","data-theme":"default",children:(0,l.jsxs)(s.code,{"data-language":"javascript","data-theme":"default",children:[(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// src/modules/example/index.js"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:" "}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"let"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" eventBus;"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"let"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" internalState "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { count"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" };"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:" "}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"init"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(services) {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Example Module Initialized'"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  eventBus "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"services"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".eventBus;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:" "}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Listen for specific events"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"eventBus"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".on"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'user:login'"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" handleUserLogin);"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:" "}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"handleEvent"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(event) {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"event"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".type "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'example:increment'"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"internalState"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".count "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"+="}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"event"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"payload"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".amount "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"||"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"eventBus"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".emit"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'example:updated'"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { newCount"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"internalState"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".count });"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:" "}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"getData"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(query) {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"query"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".type "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'get_count'"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"internalState"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".count;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"null"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:" "}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"handleUserLogin"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(event) {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`User "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"event"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"payload"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".userId"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" logged in. Resetting count.`"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"internalState"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".count "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})})]})}s.default=(0,i.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,o.a)(),e.components);return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(t,{...e})}):t(e)},pageOpts:{filePath:"pages/core-concepts/modules.mdx",route:"/core-concepts/modules",timestamp:1752449798e3,title:"The Webizen Modular System",headings:r},pageNextRoute:"/core-concepts/modules"})}},function(e){e.O(0,[57,2888,9774,179],function(){return e(e.s=1080)}),_N_E=e.O()}]);