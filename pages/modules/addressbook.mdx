# Module: Address Book

**The Address Book module provides a decentralized and feature-rich contact management system. It allows users to manage their personal and professional contacts, with data stored securely in their Solid Pod and enhanced with information from across the Webizen ecosystem.**

This module is a central hub for social interactions, integrating with identity, communication, and agreement modules.

## Purpose and Functionality

The primary goal of the `addressbook` module is to provide a powerful, self-hosted alternative to centralized contact management services like Google Contacts.

**Core Functions:**
-   **Contact Management:** Provides standard CRUD (Create, Read, Update, Delete) functionality for contacts.
-   **Semantic Storage:** Contact information is stored as RDF data using the popular `foaf` (Friend of a Friend) and `vCard` ontologies, ensuring interoperability with other semantic web applications.
-   **Faceted Search:** The UI provides a powerful faceted search capability, allowing users to quickly filter and find contacts based on their properties (e.g., organization, location, shared interests).
-   **ADP/WebID Integration:** It deeply integrates with the `adp` module to discover and display verified information about contacts, such as their eCash address or other linked social profiles.
-   **Agreement Tracking:** It links contacts to any shared agreements created via the `agreements` module, allowing a user to see all active agreements they have with a specific person.

## Technical Implementation

-   **Module Path**: `src/modules/addressbook/index.js`
-   **UI Component**: The main address book interface, including the faceted search controls, is rendered by `src/components/AddressBook.js`.
-   **Dependencies**:
    -   `modules/adp`: To fetch and verify a contact's linked identifiers.
    -   `modules/agreements`: To display links to shared agreements.
    -   `modules/chat`: To initiate chats directly from a contact's profile.
    -   `services/solidos`: All contact data is persisted to the user's Solid Pod.
    -   `services/quadstore`: Used for the high-speed faceted search functionality.

### Example Flow: Viewing a Verified Contact

1.  A user clicks on their contact, "Alice," in the `AddressBook.js` component.
2.  The UI fetches all data related to Alice's WebID from the local **Quadstore** to render the initial view quickly.
3.  In the background, it dispatches an event: `eventBus.emit('adp:discover_identifiers', { webId: 'https://alice.example.com/profile#me' })`.
4.  The `adp` module receives this request and performs the discovery and verification process for Alice's linked accounts (as described in the `adp` module documentation).
5.  As verified identifiers are found (e.g., a verified eCash address), the `adp` module emits `adp:identifier_verified` events.
6.  The `AddressBook.js` component listens for these events and dynamically updates Alice's contact card with a "verified" checkmark next to her eCash address.
7.  Simultaneously, the component queries the `agreements` module for any agreements where Alice is a party and displays links to them on her contact card.

This creates a rich, trustworthy, and highly contextual view of the user's contacts, combining self-asserted data with cryptographically verified information.
