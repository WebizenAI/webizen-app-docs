# Module: App Store

**The App Store module provides a decentralized marketplace for discovering, installing, and managing third-party applications that run within the Webizen ecosystem. It allows users to extend the platform's capabilities with community-developed tools and applications.**

This module is designed to foster a rich application ecosystem, similar to a traditional app store, but built on decentralized principles.

## Purpose and Functionality

The primary goal of the `appstore` module is to provide a simple and secure way for users to find and install applications that can interact with their personal data in a permissioned way.

**Core Functions:**
-   **App Discovery:** It allows users to browse a curated list of available applications. App listings are fetched from one or more federated RDF-based catalogs.
-   **Semantic Metadata:** Each application in the store is described by a rich set of RDF metadata, using the `appstore-v1.ttl` ontology. This includes the app's name, description, author, version, and, critically, a report on its cryptographic support.
-   **Crypto Support Reporting:** The metadata for each app explicitly states which cryptographic libraries or standards it uses (e.g., "Uses Cashtab for payments," "Requires WebAuthn"). This provides transparency to the user about the security and functionality of an app before installation.
-   **One-Click Installation:** Users can install an application with a single click. The module handles fetching the application's files (often from IPFS) and installing them into the local app runtime managed by the Desktop Application.
-   **JSON-to-RDF Translation:** For applications that are not natively built on RDF, the module can work with a translation service to map their JSON data structures to the user's RDF graph, ensuring interoperability.

## Technical Implementation

-   **Module Path**: `src/modules/appstore/index.js`
-   **UI Component**: The main App Store interface is rendered by `src/components/AppStore.js`.
-   **Core Libraries**:
    -   `@inrupt/solid-client`: For interacting with the local app runtime and installing files.
-   **Ontology**: `ontologies/appstore-v1.ttl` defines the schema for application metadata.
-   **Dependencies**:
    -   `modules/solid`: The local Solid server provides the sandboxed environment where the apps are run.
    -   `services/ipfs`: Used to fetch the application packages from the P2P network.
    -   `services/permissions`: To manage the permissions that an installed application is granted to access the user's data.

### Example Flow: Installing a New Application

1.  A user opens the `AppStore.js` component and browses the list of available apps.
2.  They find a "Decentralized Blog" app and click on it. The UI displays the app's RDF metadata, including its description and a note that it "Requires Solid Pod Write Access."
3.  The user clicks "Install." The UI dispatches an event: `eventBus.emit('appstore:install_app', { appUri: '...' })`.
4.  The `appstore` module receives the request. It fetches the application's metadata from the provided URI.
5.  It fetches the application package (e.g., a ZIP file containing HTML, CSS, and JS) from the IPFS CID specified in the metadata.
6.  It unzips the package and saves the files to a new directory within the user's local Solid Pod (e.g., `/Applications/decentralized-blog/`).
7.  It then prompts the user with a permission request, asking if they want to grant the newly installed application read/write access to the `/Blog/` container in their Pod.
8.  The user approves the permission.
9.  The `appstore` module finalizes the installation, and the "Decentralized Blog" app now appears in the user's list of installed applications, ready to be launched in a sandboxed webview.
