# Module: Timeline

**The Timeline module provides a powerful and flexible interface for visualizing time-based data. It is used across the Webizen platform to render everything from project Gantt charts to a user's personal backup history.**

This module is a core visualization service that other modules can leverage to display any data that has a temporal component.

## Purpose and Functionality

The primary goal of the `timeline` module is to provide a standardized and interactive way to display events and durations over time.

**Core Functions:**
-   **Gantt Chart Rendering:** Its most prominent use case is rendering Gantt charts for the `work` module, showing project tasks, their durations, and their dependencies.
-   **Event Visualization:** It can display a simple, linear timeline of discrete events, such as the creation dates of backups from the `backups` module or key milestones in a project.
-   **Interactive UI:** The timeline is not static. It's an interactive component that allows users to zoom, pan, and click on events to get more details. It is built using the D3.js library for powerful and customizable data visualization.
-   **Data-Driven:** The module does not store any data itself. It is a pure visualization component that receives structured RDF data from other modules and renders it according to the `timeline-v1.ttl` ontology.

## Technical Implementation

-   **Module Path**: `src/modules/timeline/index.js` (Handles data processing and event logic).
-   **UI Component**: The main visualization is rendered by `src/components/Timeline.js`.
-   **Core Libraries**:
    -   `D3.js`: The powerful JavaScript library used for all data-driven rendering of the timeline and its elements.
-   **Ontology**: `ontologies/timeline-v1.ttl` defines the RDF schema for events, durations, and temporal relationships that this module understands.
-   **Dependencies**:
    -   `modules/work`: Provides the project and task data needed to render Gantt charts.
    -   `modules/backups`: Provides the data for displaying the user's backup history.
    -   `services/quadstore`: To fetch the time-based data that needs to be visualized.

### Example Flow: Displaying a Project Gantt Chart

1.  A user navigates to the "Timeline" view within a specific project in the `Work.js` component.
2.  The `Work.js` component needs to display the Gantt chart. It dispatches an event: `eventBus.emit('timeline:render_request', { type: 'gantt', projectUri: '...' })`.
3.  The `timeline` module's `handleEvent` function receives this request.
4.  It queries the `quadstore` service for all `work:Task` resources associated with the given `projectUri`.
5.  It processes the RDF data for each task, extracting the start date, end date, duration, and any dependencies, formatting it into a structure that D3.js can consume.
6.  This formatted data is then passed as props to the `Timeline.js` React component.
7.  The `Timeline.js` component uses its internal D3.js logic to render the data as an interactive SVG-based Gantt chart, showing the project's schedule visually.

This demonstrates how the `timeline` module acts as a specialized visualization service, decoupling the logic of time-based data from its presentation.
