# Troubleshooting Guide

This guide provides solutions to common problems you might encounter while setting up, developing for, or using Webizen.

## General Debugging Steps

Before diving into specific issues, always start with the general debugging process:

1.  **Check the Logs:** Open the developer tools for both the **[Foreground](./../guides/debugging#debugging-the-foreground-ui-process)** and **[Background](./../guides/debugging#debugging-the-background-process)** processes. The console logs often contain the exact error message you need.
2.  **Run the Test Suite:** Navigate to the **Test Suite** module in the application and run the relevant tests. A failing test can quickly pinpoint a broken component.
3.  **Check the Configuration:** Ensure your `config/webizen-config-v0.26.json` file is correctly formatted and that all necessary API keys or endpoints are set.

---

## Common Issues and Solutions

### Wallet & eCash Issues

-   **Problem:** Transactions are failing, or my balance is not updating.
    -   **Solution 1: Check Chronik Endpoint:** In the `Settings` module, verify that the Chronik server URL is correct and the service is online.
    -   **Solution 2: Verify Signatures:** Use the tools in the `TestSuite` to verify that ECDSA signatures are being generated correctly. An issue with the underlying crypto service can prevent transactions from being signed.

### AI & Chatterbox Issues

-   **Problem:** The Chatterbox TTS engine is not working or sounds robotic.
    -   **Solution 1: Check Python Environment:** Make sure you are running Python 3.11 and that you have installed all dependencies (`torchaudio`, etc.) correctly within the `chatterbox` conda environment.
    -   **Solution 2: Test GPU Acceleration:** Chatterbox performs best with a GPU. Ensure your CUDA (NVIDIA) or Metal (Apple) drivers are up to date. If you don't have a compatible GPU, performance will be significantly slower.
-   **Problem:** Ollama models are not responding.
    -   **Solution: Verify Local Server:** Ensure your local Ollama server is running and accessible. Check the endpoint configuration in the `AI` settings. On mobile, ensure your **Tailscale** connection to the desktop is active.

### Mobile App Issues

-   **Problem:** The mobile app cannot connect to my Desktop Application.
    -   **Solution 1: Check Tailscale:** Ensure that Tailscale is installed, running, and you are logged into the *same account* on both your desktop and mobile device.
    -   **Solution 2: Check Firewall:** Make sure your desktop's firewall is not blocking incoming connections from the Tailscale network.

### Gitmark & OAuth Issues

-   **Problem:** I cannot authenticate with GitHub or GitLab.
    -   **Solution: Verify OAuth Tokens:** In the `Settings` module, try removing and re-adding the OAuth token for the service you are using. Ensure the token has the correct permissions (`repo`, `write:packages`, etc.).
    -   **Solution 2: Check API Rate Limits:** If you are making many requests, you may have hit the API rate limit for the platform. Check the developer console in the background process for any `429 Too Many Requests` errors.

### Internationalization (i18n) Issues

-   **Problem:** Text is not translated, or the layout is broken in an RTL language.
    -   **Solution 1: Validate Language Files:** Ensure the `locales/*.jsonld` file for the language is valid JSON-LD and contains the correct translation keys.
    -   **Solution 2: Check RTL CSS:** If the layout is broken in Arabic, inspect the UI elements with the foreground developer tools to ensure that `dir="rtl"` is being applied correctly and that the CSS supports it.

### P2P Connectivity Issues

-   **Problem:** I cannot connect to peers or download files on WebTorrent/IPFS.
    -   **Solution 1: Check Network Configuration:** P2P protocols can sometimes be blocked by restrictive firewalls or corporate networks. Try running Webizen on a different network to see if the issue persists.
    -   **Solution 2: Check Bootstrap Nodes:** In the settings, ensure the list of bootstrap nodes for IPFS and trackers for WebTorrent are correct and reachable.
