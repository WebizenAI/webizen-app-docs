export const type = "page"
export const title = "P2P Networking in Webizen"
import { Mermaid } from 'nextra/components'

# P2P Networking in Webizen

Webizen is built on a "local-first" and "P2P-first" philosophy. Instead of relying on centralized servers for communication and data transfer, it utilizes a suite of peer-to-peer technologies. This approach enhances user privacy, eliminates single points of failure, and creates a more resilient network.

Our P2P stack is not monolithic; it uses different technologies for different tasks, choosing the best tool for each job.

### P2P Technology Stack

This diagram shows the primary P2P protocols and how they relate to different application features.

<Mermaid chart={`
graph TD
    subgraph "Application Features"
        A[Real-time Chat & Collaboration]
        B[Large File & Media Sharing]
        C[Secure Device-to-Device Sync]
    end

    subgraph "P2P Protocols"
        D[GUN.eco]
        E[WebTorrent]
        F[Tailscale (WireGuard)]
        G[WebRTC]
    end

    A -- "Uses for real-time data sync" --> D
    B -- "Uses for file transfers" --> E
    C -- "Uses for secure tunneling" --> F
    D -- "Built on" --> G
    E -- "Built on" --> G
    
    style D fill:#f9f,stroke:#333,stroke-width:2px
    style E fill:#c1e1c1,stroke:#333,stroke-width:2px
    style F fill:#a7c7e7,stroke:#333,stroke-width:2px
    style G fill:#f8c8dc,stroke:#333,stroke-width:2px
`} />

### 1. WebRTC: The Foundational Transport

- **Role**: Browser-to-Browser Communication
- **Description**: WebRTC is a W3C standard that enables real-time communication (video, audio, and generic data) directly between web browsers, without an intermediary server. In Webizen, WebRTC is the fundamental transport layer upon which other P2P protocols like WebTorrent and GUN.eco are built. It handles the complex tasks of NAT traversal (using STUN/TURN servers) to establish direct connections between peers.

### 2. GUN.eco: Real-time Data Synchronization

- **Role**: Decentralized Real-time Database
- **Description**: GUN is a decentralized, peer-to-peer, real-time database. It's used for data that needs to be synchronized across multiple users with very low latency. When one user makes a change, that change is immediately broadcast to all other subscribed peers.
- **Use Cases in Webizen**:
    - **Live Chat**: Powering the real-time message exchange in chat rooms.
    - **Collaborative Editing**: Synchronizing document changes between multiple users in the Editor Module.
    - **Presence Indicators**: Showing which users are currently online.

### 3. WebTorrent: Efficient Large File Sharing

- **Role**: P2P File Transfer
- **Description**: WebTorrent is a streaming torrent client for the browser, built on WebRTC. It allows users to share large files directly from one browser to another without the need for a central server.
- **Use Cases in Webizen**:
    - **Media Sharing**: When a user shares a video or a large document, they create a torrent and share the magnet link. Other users can then stream or download the file directly from the original user and other peers who have the file.
    - **Resource Management**: Distributing large HDF5 resource packages and application assets across the network.

### 4. Tailscale (WireGuard): Secure Device Network

- **Role**: Secure Personal Network Overlay
- **Description**: While the other protocols are for peer-to-peer communication between different users, Tailscale is used to create a secure private network for a *single user's* devices. It uses the modern, high-performance **WireGuard** VPN protocol to create an encrypted tunnel between a user's Webizen Desktop App and their Mobile App.
- **Use Cases in Webizen**:
    - **Mobile Sync**: The Mobile App uses the Tailscale network to securely connect back to the local server running on the user's Desktop App.
    - **Remote API Access**: This allows the mobile device to securely access the user's Solid Pod and the full Webizen API without exposing the desktop application to the public internet, ensuring data remains private and secure.

Together, these technologies create a versatile and robust networking layer that fulfills Webizen's promise of a truly decentralized and user-controlled web experience.

