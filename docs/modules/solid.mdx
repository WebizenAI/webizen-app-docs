# Module: SolidOS

**The SolidOS module is one of the most critical components in the Webizen ecosystem. It is responsible for running and managing the user's local Solid Server, which hosts their personal data Pod. This module is the technical foundation of Webizen's promise of data sovereignty.**

By running a Solid server locally within the Desktop Application, Webizen ensures that users have a personal data store under their direct control by default, without needing to rely on third-party Pod providers.

## Purpose and Functionality

The primary purpose of the `solid` module is to manage the entire lifecycle of the local Solid Server.

**Core Functions:**
-   **Server Management:** It starts, stops, and configures the `node-solid-server` instance that runs within the Desktop App's background process.
-   **Pod Provisioning:** On first launch, it creates the user's root Solid Pod in their local application data directory.
-   **Authentication:** It manages the authentication layer for the local Pod, integrating with the WebID-TLS and WebAuthn systems to ensure that only the authorized user can access their data.
-   **Data Synchronization:** While the `solidos.js` service handles direct read/write operations, the `solid` module itself can manage higher-level data synchronization tasks, such as syncing the local Pod with a user's remote or backup Pod provider.
-   **App Hosting:** It provides the runtime environment for hosting local and third-party Solid applications, serving their files from the user's Pod.

## Technical Implementation

-   **Module Path**: `src/modules/solid/index.js`
-   **Core Libraries**:
    -   `node-solid-server`: The core library that provides the Solid server functionality.
    -   `@inrupt/solid-client`: Used by the `solidos.js` service to interact with the server this module provides.
-   **Dependencies**:
    -   `services/solidos.js`: The service that provides a clean API for other modules to interact with the Pod managed by this module.
    -   `services/config`: To get configuration details for the server, such as the local port and data directory.
    -   `modules/security`: To ensure that all interactions with the Pod adhere to the platform's security policies.

### The Local-First Data Flow

The `solid` module enables a powerful local-first workflow. When another module, like `work`, needs to save a new task:

1.  The `work` module sends the new task data (as RDF) to the `solidos.js` service.
2.  The `solidos.js` service writes the data to the user's local **Quadstore** for immediate UI responsiveness.
3.  The `solidos.js` service then asynchronously writes the same data to the local **Solid Pod** being managed by the `solid` module. This ensures the data is persisted authoritatively.
4.  At a later time, the `solid` module can initiate a sync process to replicate the data from the local Pod to a user-configured remote backup Pod, providing data redundancy.

This architecture provides the performance benefits of a local database while guaranteeing the data sovereignty and interoperability of the Solid ecosystem.
