# Module: Semantic Bookmarks

**The Semantic Bookmarks module reimagines browser bookmarks and history, transforming them from simple lists of URLs into a rich, queryable knowledge graph. It automatically captures and stores web pages, media, and metadata as structured RDF data in the user's Solid Pod.**

This module provides the foundation for the [Semantic Library](./library) by creating a detailed, personal archive of the user's web activity.

## Purpose and Functionality

The primary goal of the `bookmarks` module is to create a durable, searchable, and private history of a user's digital journey, owned and controlled entirely by them.

**Core Functions:**
-   **Semantic Archiving:** When a user bookmarks a page, the module doesn't just save the URL. It archives the page content and uses RDF to store detailed metadata, including the page title, description, author, and user-added tags.
-   **JSON-LD Storage:** All bookmark and history data is stored using the `SemBookmarks-v1.ttl` ontology, often serialized as JSON-LD for ease of use with web technologies.
-   **Media Integration:** If a bookmarked page contains significant media (like a video or podcast), the module can automatically extract links to that media, including WebTorrent magnet links or IPFS CIDs, and add them to the bookmark's metadata.
-   **Spatio-Temporal Tagging:** Users can associate bookmarks with a specific time and place, enabling powerful context-based searches like "show me all the articles I bookmarked while I was at the conference in Berlin."
-   **Web Usage Tracking:** The Web Extension component of this module can, with user permission, automatically record browsing history, creating a private log of visited pages for personal analysis and search.

## Technical Implementation

-   **Module Path**: `src/modules/bookmarks/index.js`
-   **UI Component**: Bookmarking functionality is integrated into the browser's context menus and the main application toolbar. The primary interface for viewing and searching bookmarks is the `src/components/Library.js` component.
-   **Ontology**: `ontologies/SemBookmarks-v1.ttl` defines the core RDF schema for bookmarks, history entries, and their associated metadata.
-   **Dependencies**:
    -   `modules/library`: Provides the primary UI for searching and interacting with the data collected by this module.
    -   `modules/discovery`: Can be used to find additional P2P sources for media linked in a bookmark.
    -   `services/solidos`: All bookmark and history RDF data is persisted to the user's Solid Pod.
    -   `services/quadstore`: The local cache that powers the fast search and retrieval of bookmarks.

### Example Flow: Bookmarking a Web Page

1.  A user is on a news article page and clicks the "Bookmark Page" button in the Webizen Web Extension.
2.  The extension's UI presents a popup where the user can add tags like "research" and "economics."
3.  The extension sends a message to the Desktop Application's background process with the URL, title, and user-added tags.
4.  The `bookmarks` module receives this information. It creates a new RDF resource for the bookmark.
5.  It constructs a series of triples:
    -   `<bookmark_uri> a sem:Bookmark .`
    -   `<bookmark_uri> dct:source <url_of_article> .`
    -   `<bookmark_uri> dct:title "Article Title" .`
    -   `<bookmark_uri> dct:subject "research", "economics" .`
    -   `<bookmark_uri> dct:created "2025-07-13T..."^^xsd:dateTime .`
6.  The module saves these triples to the local Quadstore and asynchronously to the user's Solid Pod.
7.  Later, when the user searches their Semantic Library for "economics," this bookmarked article will appear in the results, fully integrated into their personal knowledge graph.
